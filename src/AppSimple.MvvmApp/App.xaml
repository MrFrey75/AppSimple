<Application x:Class="AppSimple.MvvmApp.App"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:converters="clr-namespace:AppSimple.MvvmApp.Converters"
             xmlns:vm="clr-namespace:AppSimple.MvvmApp.ViewModels"
             xmlns:views="clr-namespace:AppSimple.MvvmApp.Views"
             Startup="Application_Startup">

    <Application.Resources>
        <ResourceDictionary>

            <!-- ══════════════════════════════════════
                 CONVERTERS
            ══════════════════════════════════════ -->
            <converters:BoolToVisibilityConverter         x:Key="BoolToVisibility"/>
            <converters:InverseBoolToVisibilityConverter  x:Key="InverseBoolToVisibility"/>
            <converters:FormWidthConverter                x:Key="FormWidthConverter"/>

            <!-- ══════════════════════════════════════
                 COLOURS → BRUSHES  (Catppuccin-inspired dark palette)
            ══════════════════════════════════════ -->
            <SolidColorBrush x:Key="BackgroundBrush"  Color="#1E1E2E"/>
            <SolidColorBrush x:Key="NavBarBrush"      Color="#181825"/>
            <SolidColorBrush x:Key="CardBrush"        Color="#313244"/>
            <SolidColorBrush x:Key="InputBrush"       Color="#45475A"/>
            <SolidColorBrush x:Key="AppBorderBrush"   Color="#6C7086"/>
            <SolidColorBrush x:Key="AccentBrush"      Color="#89B4FA"/>
            <SolidColorBrush x:Key="TextBrush"        Color="#CDD6F4"/>
            <SolidColorBrush x:Key="SubtleBrush"      Color="#A6ADC8"/>
            <SolidColorBrush x:Key="SuccessBrush"     Color="#A6E3A1"/>
            <SolidColorBrush x:Key="ErrorBrush"       Color="#F38BA8"/>
            <SolidColorBrush x:Key="WarningBrush"     Color="#F9E2AF"/>
            <SolidColorBrush x:Key="DangerHoverBrush" Color="#EF4444"/>

            <!-- ══════════════════════════════════════
                 PAGE → VIEW DATA TEMPLATES
            ══════════════════════════════════════ -->
            <DataTemplate DataType="{x:Type vm:HomeViewModel}">
                <views:HomeView/>
            </DataTemplate>
            <DataTemplate DataType="{x:Type vm:ProfileViewModel}">
                <views:ProfileView/>
            </DataTemplate>
            <DataTemplate DataType="{x:Type vm:UsersViewModel}">
                <views:UsersView/>
            </DataTemplate>

            <!-- ══════════════════════════════════════
                 IMPLICIT  TextBlock
            ══════════════════════════════════════ -->
            <Style TargetType="TextBlock">
                <Setter Property="Foreground" Value="{StaticResource TextBrush}"/>
                <Setter Property="FontFamily" Value="Segoe UI"/>
                <Setter Property="FontSize"   Value="14"/>
            </Style>

            <!-- ══════════════════════════════════════
                 IMPLICIT  TextBox
            ══════════════════════════════════════ -->
            <Style TargetType="TextBox">
                <Setter Property="Background"         Value="{StaticResource InputBrush}"/>
                <Setter Property="Foreground"         Value="{StaticResource TextBrush}"/>
                <Setter Property="CaretBrush"         Value="{StaticResource TextBrush}"/>
                <Setter Property="SelectionBrush"     Value="{StaticResource AccentBrush}"/>
                <Setter Property="BorderBrush"        Value="{StaticResource AppBorderBrush}"/>
                <Setter Property="BorderThickness"    Value="1"/>
                <Setter Property="Padding"            Value="8,6"/>
                <Setter Property="FontSize"           Value="14"/>
                <Setter Property="VerticalContentAlignment" Value="Center"/>
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="TextBox">
                            <Border Background="{TemplateBinding Background}"
                                    BorderBrush="{TemplateBinding BorderBrush}"
                                    BorderThickness="{TemplateBinding BorderThickness}"
                                    CornerRadius="5">
                                <ScrollViewer x:Name="PART_ContentHost"
                                              Margin="{TemplateBinding Padding}"
                                              VerticalAlignment="Center"/>
                            </Border>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsFocused" Value="True">
                                    <Setter Property="BorderBrush" Value="{StaticResource AccentBrush}"/>
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>

            <!-- ══════════════════════════════════════
                 IMPLICIT  PasswordBox
            ══════════════════════════════════════ -->
            <Style TargetType="PasswordBox">
                <Setter Property="Background"      Value="{StaticResource InputBrush}"/>
                <Setter Property="Foreground"      Value="{StaticResource TextBrush}"/>
                <Setter Property="CaretBrush"      Value="{StaticResource TextBrush}"/>
                <Setter Property="SelectionBrush"  Value="{StaticResource AccentBrush}"/>
                <Setter Property="BorderBrush"     Value="{StaticResource AppBorderBrush}"/>
                <Setter Property="BorderThickness" Value="1"/>
                <Setter Property="Padding"         Value="8,6"/>
                <Setter Property="FontSize"        Value="14"/>
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="PasswordBox">
                            <Border Background="{TemplateBinding Background}"
                                    BorderBrush="{TemplateBinding BorderBrush}"
                                    BorderThickness="{TemplateBinding BorderThickness}"
                                    CornerRadius="5">
                                <ScrollViewer x:Name="PART_ContentHost"
                                              Margin="{TemplateBinding Padding}"
                                              VerticalAlignment="Center"/>
                            </Border>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsFocused" Value="True">
                                    <Setter Property="BorderBrush" Value="{StaticResource AccentBrush}"/>
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>

            <!-- ══════════════════════════════════════
                 IMPLICIT  ComboBox
            ══════════════════════════════════════ -->
            <Style TargetType="ComboBox">
                <Setter Property="Background"      Value="{StaticResource InputBrush}"/>
                <Setter Property="Foreground"      Value="{StaticResource TextBrush}"/>
                <Setter Property="BorderBrush"     Value="{StaticResource AppBorderBrush}"/>
                <Setter Property="BorderThickness" Value="1"/>
                <Setter Property="Padding"         Value="8,6"/>
                <Setter Property="FontSize"        Value="14"/>
            </Style>

            <!-- ══════════════════════════════════════
                 IMPLICIT  CheckBox
            ══════════════════════════════════════ -->
            <Style TargetType="CheckBox">
                <Setter Property="Foreground" Value="{StaticResource TextBrush}"/>
                <Setter Property="FontSize"   Value="14"/>
            </Style>

            <!-- ══════════════════════════════════════
                 IMPLICIT  DataGrid
            ══════════════════════════════════════ -->
            <Style TargetType="DataGrid">
                <Setter Property="Background"             Value="{StaticResource CardBrush}"/>
                <Setter Property="Foreground"             Value="{StaticResource TextBrush}"/>
                <Setter Property="BorderBrush"            Value="{StaticResource AppBorderBrush}"/>
                <Setter Property="BorderThickness"        Value="1"/>
                <Setter Property="GridLinesVisibility"    Value="Horizontal"/>
                <Setter Property="HorizontalGridLinesBrush" Value="{StaticResource InputBrush}"/>
                <Setter Property="VerticalGridLinesBrush"   Value="Transparent"/>
                <Setter Property="RowBackground"          Value="{StaticResource CardBrush}"/>
                <Setter Property="AlternatingRowBackground" Value="{StaticResource InputBrush}"/>
                <Setter Property="SelectionMode"          Value="Single"/>
                <Setter Property="AutoGenerateColumns"    Value="False"/>
                <Setter Property="CanUserAddRows"         Value="False"/>
                <Setter Property="CanUserDeleteRows"      Value="False"/>
                <Setter Property="IsReadOnly"             Value="True"/>
                <Setter Property="HeadersVisibility"      Value="Column"/>
                <Setter Property="RowHeaderWidth"         Value="0"/>
                <Setter Property="ColumnHeaderHeight"     Value="36"/>
                <Setter Property="RowHeight"              Value="34"/>
                <Setter Property="FontSize"               Value="13"/>
            </Style>

            <Style TargetType="DataGridColumnHeader">
                <Setter Property="Background"      Value="{StaticResource NavBarBrush}"/>
                <Setter Property="Foreground"      Value="{StaticResource AccentBrush}"/>
                <Setter Property="FontWeight"      Value="SemiBold"/>
                <Setter Property="Padding"         Value="12,8"/>
                <Setter Property="BorderBrush"     Value="{StaticResource AppBorderBrush}"/>
                <Setter Property="BorderThickness" Value="0,0,0,1"/>
            </Style>

            <Style TargetType="DataGridRow">
                <Setter Property="Background" Value="Transparent"/>
                <Setter Property="Foreground"  Value="{StaticResource TextBrush}"/>
                <Style.Triggers>
                    <Trigger Property="IsMouseOver" Value="True">
                        <Setter Property="Background" Value="#45475A80"/>
                    </Trigger>
                    <Trigger Property="IsSelected" Value="True">
                        <Setter Property="Background" Value="{StaticResource InputBrush}"/>
                    </Trigger>
                </Style.Triggers>
            </Style>

            <Style TargetType="DataGridCell">
                <Setter Property="Padding"          Value="4"/>
                <Setter Property="BorderThickness"  Value="0"/>
                <Setter Property="Background"       Value="Transparent"/>
                <Setter Property="Foreground"       Value="{StaticResource TextBrush}"/>
                <Setter Property="VerticalContentAlignment" Value="Center"/>
                <Style.Triggers>
                    <Trigger Property="IsSelected" Value="True">
                        <Setter Property="Background"  Value="Transparent"/>
                        <Setter Property="BorderBrush" Value="Transparent"/>
                    </Trigger>
                </Style.Triggers>
            </Style>

            <!-- ══════════════════════════════════════
                 NAMED BUTTON STYLES
            ══════════════════════════════════════ -->

            <!-- NavButtonStyle: flat, transparent, accent on hover -->
            <Style x:Key="NavButtonStyle" TargetType="Button">
                <Setter Property="Background"    Value="Transparent"/>
                <Setter Property="Foreground"    Value="{StaticResource TextBrush}"/>
                <Setter Property="BorderThickness" Value="0"/>
                <Setter Property="Padding"       Value="14,8"/>
                <Setter Property="Margin"        Value="2,0"/>
                <Setter Property="FontSize"      Value="14"/>
                <Setter Property="Cursor"        Value="Hand"/>
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="Button">
                            <Border x:Name="Bd"
                                    Background="{TemplateBinding Background}"
                                    CornerRadius="6"
                                    Padding="{TemplateBinding Padding}">
                                <ContentPresenter HorizontalAlignment="Center"
                                                  VerticalAlignment="Center"/>
                            </Border>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter TargetName="Bd" Property="Background" Value="{StaticResource CardBrush}"/>
                                </Trigger>
                                <Trigger Property="IsPressed" Value="True">
                                    <Setter TargetName="Bd" Property="Background" Value="{StaticResource InputBrush}"/>
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>

            <!-- PrimaryButtonStyle: accent blue -->
            <Style x:Key="PrimaryButtonStyle" TargetType="Button">
                <Setter Property="Background"    Value="{StaticResource AccentBrush}"/>
                <Setter Property="Foreground"    Value="#1E1E2E"/>
                <Setter Property="BorderThickness" Value="0"/>
                <Setter Property="Padding"       Value="16,8"/>
                <Setter Property="FontSize"      Value="14"/>
                <Setter Property="FontWeight"    Value="SemiBold"/>
                <Setter Property="Cursor"        Value="Hand"/>
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="Button">
                            <Border x:Name="Bd"
                                    Background="{TemplateBinding Background}"
                                    CornerRadius="6"
                                    Padding="{TemplateBinding Padding}">
                                <ContentPresenter HorizontalAlignment="Center"
                                                  VerticalAlignment="Center"/>
                            </Border>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter TargetName="Bd" Property="Background" Value="#B3C9FC"/>
                                </Trigger>
                                <Trigger Property="IsPressed" Value="True">
                                    <Setter TargetName="Bd" Property="Background" Value="#6A9AE8"/>
                                </Trigger>
                                <Trigger Property="IsEnabled" Value="False">
                                    <Setter TargetName="Bd" Property="Background" Value="{StaticResource InputBrush}"/>
                                    <Setter Property="Foreground"                 Value="{StaticResource SubtleBrush}"/>
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>

            <!-- SecondaryButtonStyle: bordered, no fill -->
            <Style x:Key="SecondaryButtonStyle" TargetType="Button">
                <Setter Property="Background"    Value="Transparent"/>
                <Setter Property="Foreground"    Value="{StaticResource TextBrush}"/>
                <Setter Property="BorderBrush"   Value="{StaticResource AppBorderBrush}"/>
                <Setter Property="BorderThickness" Value="1"/>
                <Setter Property="Padding"       Value="14,7"/>
                <Setter Property="FontSize"      Value="14"/>
                <Setter Property="Cursor"        Value="Hand"/>
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="Button">
                            <Border x:Name="Bd"
                                    Background="{TemplateBinding Background}"
                                    BorderBrush="{TemplateBinding BorderBrush}"
                                    BorderThickness="{TemplateBinding BorderThickness}"
                                    CornerRadius="6"
                                    Padding="{TemplateBinding Padding}">
                                <ContentPresenter HorizontalAlignment="Center"
                                                  VerticalAlignment="Center"/>
                            </Border>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter TargetName="Bd" Property="Background" Value="{StaticResource CardBrush}"/>
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>

            <!-- DangerButtonStyle: red -->
            <Style x:Key="DangerButtonStyle" TargetType="Button">
                <Setter Property="Background"    Value="#9B1C1C"/>
                <Setter Property="Foreground"    Value="#FCA5A5"/>
                <Setter Property="BorderThickness" Value="0"/>
                <Setter Property="Padding"       Value="14,8"/>
                <Setter Property="FontSize"      Value="14"/>
                <Setter Property="Cursor"        Value="Hand"/>
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="Button">
                            <Border x:Name="Bd"
                                    Background="{TemplateBinding Background}"
                                    CornerRadius="6"
                                    Padding="{TemplateBinding Padding}">
                                <ContentPresenter HorizontalAlignment="Center"
                                                  VerticalAlignment="Center"/>
                            </Border>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter TargetName="Bd" Property="Background" Value="{StaticResource DangerHoverBrush}"/>
                                    <Setter Property="Foreground"                 Value="White"/>
                                </Trigger>
                                <Trigger Property="IsEnabled" Value="False">
                                    <Setter TargetName="Bd" Property="Background" Value="{StaticResource InputBrush}"/>
                                    <Setter Property="Foreground"                 Value="{StaticResource SubtleBrush}"/>
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>

            <!-- ══════════════════════════════════════
                 NAMED TEXT STYLES
            ══════════════════════════════════════ -->

            <Style x:Key="PageTitleStyle" TargetType="TextBlock">
                <Setter Property="FontSize"   Value="28"/>
                <Setter Property="FontWeight" Value="Bold"/>
                <Setter Property="Foreground" Value="{StaticResource TextBrush}"/>
                <Setter Property="Margin"     Value="0,0,0,4"/>
            </Style>

            <Style x:Key="SectionHeadingStyle" TargetType="TextBlock">
                <Setter Property="FontSize"   Value="16"/>
                <Setter Property="FontWeight" Value="SemiBold"/>
                <Setter Property="Foreground" Value="{StaticResource AccentBrush}"/>
            </Style>

            <Style x:Key="FormLabelStyle" TargetType="TextBlock">
                <Setter Property="FontSize"           Value="13"/>
                <Setter Property="Foreground"         Value="{StaticResource SubtleBrush}"/>
                <Setter Property="VerticalAlignment"  Value="Center"/>
                <Setter Property="Margin"             Value="0,6,12,6"/>
            </Style>

            <Style x:Key="FormValueStyle" TargetType="TextBlock">
                <Setter Property="FontSize"           Value="14"/>
                <Setter Property="Foreground"         Value="{StaticResource TextBrush}"/>
                <Setter Property="VerticalAlignment"  Value="Center"/>
                <Setter Property="Margin"             Value="0,6,0,6"/>
            </Style>

            <!-- ══════════════════════════════════════
                 CARD BORDER STYLE
            ══════════════════════════════════════ -->
            <Style x:Key="CardStyle" TargetType="Border">
                <Setter Property="Background"      Value="{StaticResource CardBrush}"/>
                <Setter Property="BorderBrush"     Value="{StaticResource AppBorderBrush}"/>
                <Setter Property="BorderThickness" Value="1"/>
                <Setter Property="CornerRadius"    Value="8"/>
                <Setter Property="Padding"         Value="24"/>
            </Style>

        </ResourceDictionary>
    </Application.Resources>

</Application>
